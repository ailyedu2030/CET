# 管理员端功能说明文档

## 一、用户注册审核模块 (ADM-01)

1. **学生注册信息审核** [API: /admin/student/audit]
   - 审核对象：学生提交的完整注册信息（11项文本信息）
   - 审核内容：基础信息、身份凭证、紧急联系人、学业信息
   - 审核结果：通过 → 激活学生账号权限 / 驳回 → 退回补充材料
   - 审核日志：自动记录审核人、审核时间、审核结果及原因

2. **教师注册信息审核** [API: /admin/teacher/audit]
   - 审核对象：教师提交的完整注册信息（7项文本信息+自我介绍+文件材料）
   - 审核内容：基础信息、职业资质文件、教学能力证明、个人介绍
   - 审核文件：教师证/职业资格证书/荣誉证书扫描件
   - 审核结果：通过 → 激活教师账号权限 / 驳回 → 退回补充材料
   - 批量操作：支持批量审核功能（最多20条/批）

## 二、基础信息管理模块 (ADM-02)

1. **学生管理** [API: /admin/student]
   - 学生信息维护（CRUD操作）
   - 学习状况跟踪（关联学生训练数据）
   - 考勤状态管理（出勤、缺勤、请假记录）
   - 学籍变动（转班/休学/退学）（状态变更+审批流）
   - 收费与退费管理（费用记录、发票生成）
   - 批量导入：支持Excel表格批量导入学生信息

2. **教师管理** [API: /admin/teacher]
   - 教师信息维护（CRUD操作）
   - 教学状态跟踪（课时统计、评价汇总）
   - 薪酬管理（课时费计算、薪资发放记录）
   - 资质审核：定期复审教师资质（每年一次）

3. **教室管理** [API: /admin/classroom]
   - 校区/楼号/教室编号管理（层级结构）
   - 教室容量配置（座位数、设备列表）
   - 多媒体设备标记（设备类型、状态监控）
   - 可用状态与时间设置（排课日历视图）
   - 冲突检测：自动检测教室排期冲突

## 三、课程管理模块 (ADM-03)

1. **课程全生命周期管理** [API: /admin/course]
   - 课程创建/编辑/删除（基础操作）
   - 课程属性设置（名称/学时/适用对象）
   - 教师教学大纲审核（审批流）
   - 课程模板：支持创建课程模板，快速复制新课程
   - 课程状态：筹备中→审核中→已上线→已归档
   - 课程创建权限仅管理员拥有
   - 教师对被分配课程有资源管理权限
   - 资源权限支持三级：私有/班级内共享/全校共享
   - 版本控制需支持历史版本查看和回滚

## 四、班级管理模块 (ADM-04)

1. **班级创建与维护** [API: /admin/class]
   - 班级基础信息管理（名称、编号、状态）
   - 班级周期设置（开课日期、结课日期）
   - 班级容量控制（最小/最大学生数）

2. **基于课程生成班级**（需关联课程）
   - 选择课程模板快速创建班级
   - 支持批量创建多个班级（同一课程）

3. **班级资源配置**
   - 分配课程教学大纲审核通过的教师
   - 分配审核通过的学生
   - 绑定指定教室
   - 资源变更：记录班级资源变更历史

## 五、课程分配管理模块 (ADM-05)

1. **向通过审核的教师分配课程** [API: /admin/course-assignment]
   - 教师课程资质匹配检查
   - 教师工作量平衡分配
   - 时间冲突自动检测

2. **支持一对多配置**
   - 单课程可对应多个班级（班级差异化配置）
   - 单课程可配备多名教师（按章节/模块分配）
   - 权限划分：明确多教师协作的权限边界

## 六、系统监控模块 (ADM-06)

1. **教学监控** [API: /admin/monitor/teaching]
   - 教师授课质量跟踪（学生评价、完课率）
   - 学生学习进度监控（训练完成率、知识点掌握度）
   - 数据可视化：提供图表化教学监控看板

2. **系统运维监控** [API: /admin/monitor/system]
   - 系统健康状态监测（服务器资源使用率）
   - DeepSeek API使用统计（调用量、成功率、费用）
   - 告警机制：异常阈值告警（邮件、短信通知）
   - 日志分析：系统关键操作日志查询

## 七、权限中枢管理 (ADM-07)

1. **多级权限体系** [API: /admin/permission]
   - 超级管理员：系统级配置（全部权限）
   - 教务管理员：课程-班级分配（部分模块权限）
   - 审计管理员：操作日志审查（只读权限）
   - 角色定制：支持自定义角色与权限组合

2. **权限控制机制**
   - 基于RBAC模型的权限管理
   - 操作级权限粒度控制
   - 数据访问权限控制（可按校区/部门隔离）

## 八、数据决策支持 (ADM-08)

1. **智能报表生成** [API: /admin/reports]
   - 教学效能报告（月度）
   - 资源使用报告（周度）
   - 安全审计报告（实时）
   - 报表订阅：支持定期报表自动发送
   - 自定义报表：灵活配置报表内容和指标

2. **预测性维护模块** [API: /admin/prediction]
   - 硬件故障预测（基于历史数据分析）
   - 资源需求预测（下学期排课压力模拟）
   - 安全漏洞扫描（定期安全评估）
   - 趋势分析：提供未来资源需求趋势图

## 九、班级与课程规则 (ADM-09)

1. **班级绑定规则** [API: /admin/rules/binding]
   - 1班级 ↔ 1教师
   - 1班级 ↔ 1课程
   - 规则例外：可配置特殊情况下的规则豁免
   - 班级绑定规则配置权限仅管理员拥有

2. **教室排课规则** [API: /admin/rules/scheduling]
   - 单时段单教室仅允许：
     - 1班级
     - 固定学生群体
     - 1任课教师
   - 高级设置：可配置教室资源共享规则
   - 教室排课规则配置权限仅管理员拥有
   - 特殊情况下的规则豁免需管理员审批

## 十、数据备份与恢复 (ADM-10)

1. **数据备份策略** [API: /admin/backup]
   - 自动备份：系统每日增量备份，每周全量备份
   - 手动备份：管理员可触发即时备份
   - 备份内容：用户数据、课程资源、系统配置

2. **数据恢复机制** [API: /admin/recovery]
   - 时间点恢复：选择特定备份点进行恢复
   - 选择性恢复：可指定恢复特定模块数据
   - 恢复日志：详细记录所有恢复操作

## 技术实现说明

1. **接口规范**：所有管理员API采用RESTful风格，返回JSON格式数据
2. **认证机制**：采用JWT令牌认证，管理员会话默认2小时过期
3. **日志记录**：所有管理操作自动记录日志，包含操作人、操作内容、IP地址
4. **权限检查**：API访问前进行权限前置检查，拒绝未授权访问
5. **数据校验**：所有输入数据经严格验证，防止注入攻击
6. **并发控制**：关键资源操作采用乐观锁机制，避免并发冲突

## 变更内容

1. **注册入口需严格分离**：学生和教师使用不同入口
2. **注册状态查询为公开API，无需登录**：
3. **审核操作仅管理员可执行**：
4. **学生审核对象**：11项文本信息
5. **教师审核对象**：7项文本信息+自我介绍+3种文件材料

## 权限影响

1. **管理员权限基于RBAC模型，支持自定义角色**
2. **教师无法访问管理员专属API**
3. **学生无法访问教师和管理员专属API**
4. **数据访问权限需按校区/部门隔离**
5. **操作级权限粒度控制到具体功能**

教师可配置训练参数但不能直接查看学生答案
教师可查看班级和个人学习数据分析报告
学生只能查看和完成自己的训练内容
学生数据24小时内同步至教师端

系统监控功能仅管理员可访问
管理员可查看所有教师和学生的数据统计
系统运维监控包括服务器资源和AI API使用情况
告警功能需支持邮件和短信通知

备份和恢复功能仅超级管理员可访问
备份操作记录需完整留存
数据恢复操作需记录详细日志

管理员拥有课程分配和大纲审批权限
教师拥有大纲编辑权和教案编辑权
教师可查看教室可用时段但不能修改
课程表变更需自动通知相关学生
支持多教师协同编辑大纲

教师可配置写作训练参数
教师可查看学生写作评分结果和统计数据
学生可查看自己的写作评分和修改建议
DeepSeek嵌入四级评分标准进行评分

教师可查看班级整体和学生个人学习情况
系统自动预警学习异常情况
学生只能查看自己的学习数据
教师无法查看学生具体的训练过程，只能查看结果和分析报告
