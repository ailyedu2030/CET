# è‹±è¯­å››çº§æ™ºèƒ½è®­ç»ƒç³»ç»Ÿä»£ç è´¨é‡æå‡è®¡åˆ’

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025å¹´1æœˆ22æ—¥  
**åŸºäºæŠ¥å‘Š**: å…¨é¢æŠ€æœ¯æ¶æ„å®¡æŸ¥æŠ¥å‘Š + æ·±åº¦ç¬¦åˆæ€§å®¡æŸ¥æŠ¥å‘Š  
**ä¼˜åŒ–ç›®æ ‡**: å»ºç«‹å®Œå–„çš„ä»£ç è´¨é‡ä¿éšœä½“ç³»  
**é¢„æœŸæ”¶ç›Š**: ç¼ºé™·ç‡é™ä½70%ï¼Œå¼€å‘æ•ˆç‡æå‡40%  
**å®æ–½å‘¨æœŸ**: 6-8å‘¨

---

## ğŸ¯ ä»£ç è´¨é‡ç°çŠ¶åˆ†æ

### å½“å‰è´¨é‡åŸºçº¿

åŸºäºå®¡æŸ¥æŠ¥å‘Šï¼Œç³»ç»Ÿä»£ç è´¨é‡ç°çŠ¶ï¼š

| è´¨é‡æŒ‡æ ‡       | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | æ”¹è¿›ç©ºé—´ |
| -------------- | -------- | -------- | -------- |
| **æµ‹è¯•è¦†ç›–ç‡** | 45%      | 90%+     | 100%+    |
| **ä»£ç é‡å¤ç‡** | 15%      | <5%      | 67%      |
| **åœˆå¤æ‚åº¦**   | å¹³å‡12   | <8       | 33%      |
| **æŠ€æœ¯å€ºåŠ¡**   | é«˜       | ä½       | 80%      |
| **ä»£ç å®¡æŸ¥ç‡** | 30%      | 100%     | 233%     |
| **é™æ€åˆ†æ**   | æœªé…ç½®   | å…¨è¦†ç›–   | 100%     |

### æ ¸å¿ƒè´¨é‡é—®é¢˜

1. **ğŸ”´ æµ‹è¯•è¦†ç›–ç‡ä¸¥é‡ä¸è¶³** - ç¼ºä¹ç³»ç»Ÿæ€§æµ‹è¯•ç­–ç•¥
2. **ğŸ”´ ä»£ç è§„èŒƒä¸ç»Ÿä¸€** - ç¼ºä¹å¼ºåˆ¶æ€§ä»£ç è§„èŒƒ
3. **ğŸŸ¡ æŠ€æœ¯å€ºåŠ¡ç§¯ç´¯** - å†å²ä»£ç è´¨é‡é—®é¢˜è¾ƒå¤š
4. **ğŸŸ¡ ä»£ç å®¡æŸ¥æµç¨‹ç¼ºå¤±** - ç¼ºä¹æœ‰æ•ˆçš„ä»£ç å®¡æŸ¥æœºåˆ¶
5. **ğŸŸ¡ æ–‡æ¡£è¦†ç›–ç‡ä½** - ä»£ç æ–‡æ¡£åŒ–ç¨‹åº¦ä¸è¶³

---

## ğŸ“ ä»£ç è§„èŒƒæ ‡å‡†åŒ–

### 1. Pythonä»£ç è§„èŒƒ

#### PEP 8æ‰©å±•è§„èŒƒ

```python
# .flake8
[flake8]
max-line-length = 88
select = E,W,F,C,N
ignore =
    E203,  # whitespace before ':'
    E501,  # line too long (handled by black)
    W503,  # line break before binary operator
    F401,  # imported but unused (handled by isort)
extend-ignore = E203, E266, E501, W503
max-complexity = 10
per-file-ignores =
    __init__.py:F401
    */migrations/*:E501,F401
    */settings/*:E501
    */tests/*:E501
exclude =
    .git,
    __pycache__,
    .venv,
    venv,
    .eggs,
    *.egg,
    build,
    dist,
    migrations

# pyproject.toml - Blacké…ç½®
[tool.black]
line-length = 88
target-version = ['py312']
include = '\.pyi?$'
extend-exclude = '''
(
  /(
      \.eggs
    | \.git
    | \.hg
    | \.mypy_cache
    | \.tox
    | \.venv
    | _build
    | buck-out
    | build
    | dist
    | migrations
  )/
)
'''

# isorté…ç½®
[tool.isort]
profile = "black"
line_length = 88
multi_line_output = 3
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
ensure_newline_before_comments = true
skip_glob = ["*/migrations/*"]
known_django = "django"
known_first_party = ["config", "users", "learning", "ai_services"]
sections = ["FUTURE", "STDLIB", "DJANGO", "THIRDPARTY", "FIRSTPARTY", "LOCALFOLDER"]
```

#### ä»£ç è´¨é‡æ£€æŸ¥é…ç½®

```yaml
# .pre-commit-config.yaml
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files
      - id: check-merge-conflict
      - id: debug-statements

  - repo: https://github.com/psf/black
    rev: 23.3.0
    hooks:
      - id: black
        language_version: python3.12

  - repo: https://github.com/pycqa/isort
    rev: 5.12.0
    hooks:
      - id: isort

  - repo: https://github.com/pycqa/flake8
    rev: 6.0.0
    hooks:
      - id: flake8
        additional_dependencies:
          [
            flake8-docstrings,
            flake8-import-order,
            flake8-bugbear,
            flake8-comprehensions,
            flake8-simplify,
          ]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.3.0
    hooks:
      - id: mypy
        additional_dependencies: [types-requests, django-stubs]

  - repo: https://github.com/pycqa/bandit
    rev: 1.7.5
    hooks:
      - id: bandit
        args: ["-r", ".", "-f", "json", "-o", "bandit-report.json"]
        exclude: tests/
```

#### Djangoæœ€ä½³å®è·µ

```python
# utils/mixins.py - é€šç”¨Mixin
from typing import Any, Dict, Optional
from django.contrib.auth.mixins import LoginRequiredMixin
from django.core.exceptions import PermissionDenied
from django.http import HttpRequest, HttpResponse
from rest_framework import status
from rest_framework.response import Response

class TimestampMixin(models.Model):
    """æ—¶é—´æˆ³Mixin"""

    created_at = models.DateTimeField(
        auto_now_add=True,
        verbose_name="åˆ›å»ºæ—¶é—´",
        help_text="è®°å½•åˆ›å»ºçš„æ—¶é—´æˆ³"
    )
    updated_at = models.DateTimeField(
        auto_now=True,
        verbose_name="æ›´æ–°æ—¶é—´",
        help_text="è®°å½•æœ€åæ›´æ–°çš„æ—¶é—´æˆ³"
    )

    class Meta:
        abstract = True

class SoftDeleteMixin(models.Model):
    """è½¯åˆ é™¤Mixin"""

    is_deleted = models.BooleanField(
        default=False,
        verbose_name="æ˜¯å¦åˆ é™¤",
        help_text="æ ‡è®°è®°å½•æ˜¯å¦è¢«è½¯åˆ é™¤"
    )
    deleted_at = models.DateTimeField(
        null=True,
        blank=True,
        verbose_name="åˆ é™¤æ—¶é—´",
        help_text="è®°å½•è¢«è½¯åˆ é™¤çš„æ—¶é—´"
    )

    class Meta:
        abstract = True

    def soft_delete(self) -> None:
        """æ‰§è¡Œè½¯åˆ é™¤"""
        self.is_deleted = True
        self.deleted_at = timezone.now()
        self.save(update_fields=['is_deleted', 'deleted_at'])

    def restore(self) -> None:
        """æ¢å¤è½¯åˆ é™¤çš„è®°å½•"""
        self.is_deleted = False
        self.deleted_at = None
        self.save(update_fields=['is_deleted', 'deleted_at'])

class RoleRequiredMixin(LoginRequiredMixin):
    """è§’è‰²æƒé™Mixin"""

    required_roles: Optional[list] = None

    def dispatch(self, request: HttpRequest, *args: Any, **kwargs: Any) -> HttpResponse:
        """æ£€æŸ¥ç”¨æˆ·è§’è‰²æƒé™"""
        if not self.required_roles:
            return super().dispatch(request, *args, **kwargs)

        if not request.user.is_authenticated:
            return self.handle_no_permission()

        if request.user.role not in self.required_roles:
            raise PermissionDenied("æ‚¨æ²¡æœ‰è®¿é—®æ­¤é¡µé¢çš„æƒé™")

        return super().dispatch(request, *args, **kwargs)

# æ ‡å‡†åŒ–APIå“åº”æ ¼å¼
class StandardResponseMixin:
    """æ ‡å‡†åŒ–APIå“åº”Mixin"""

    def success_response(
        self,
        data: Any = None,
        message: str = "æ“ä½œæˆåŠŸ",
        status_code: int = status.HTTP_200_OK
    ) -> Response:
        """æˆåŠŸå“åº”"""
        return Response({
            'success': True,
            'message': message,
            'data': data,
            'timestamp': timezone.now().isoformat()
        }, status=status_code)

    def error_response(
        self,
        message: str = "æ“ä½œå¤±è´¥",
        errors: Optional[Dict[str, Any]] = None,
        status_code: int = status.HTTP_400_BAD_REQUEST
    ) -> Response:
        """é”™è¯¯å“åº”"""
        return Response({
            'success': False,
            'message': message,
            'errors': errors or {},
            'timestamp': timezone.now().isoformat()
        }, status=status_code)
```

### 2. TypeScriptä»£ç è§„èŒƒ

#### ESLinté…ç½®

```json
// .eslintrc.json
{
  "extends": [
    "next/core-web-vitals",
    "@typescript-eslint/recommended",
    "@typescript-eslint/recommended-requiring-type-checking",
    "prettier"
  ],
  "parser": "@typescript-eslint/parser",
  "parserOptions": {
    "ecmaVersion": "latest",
    "sourceType": "module",
    "project": "./tsconfig.json"
  },
  "plugins": ["@typescript-eslint", "import", "react-hooks"],
  "rules": {
    // TypeScriptè§„åˆ™
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "warn",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "@typescript-eslint/no-non-null-assertion": "error",
    "@typescript-eslint/prefer-nullish-coalescing": "error",
    "@typescript-eslint/prefer-optional-chain": "error",

    // Importè§„åˆ™
    "import/order": [
      "error",
      {
        "groups": [
          "builtin",
          "external",
          "internal",
          "parent",
          "sibling",
          "index"
        ],
        "newlines-between": "always",
        "alphabetize": {
          "order": "asc",
          "caseInsensitive": true
        }
      }
    ],

    // Reactè§„åˆ™
    "react-hooks/rules-of-hooks": "error",
    "react-hooks/exhaustive-deps": "warn",
    "react/prop-types": "off",
    "react/react-in-jsx-scope": "off",

    // é€šç”¨è§„åˆ™
    "no-console": "warn",
    "no-debugger": "error",
    "prefer-const": "error",
    "no-var": "error"
  },
  "ignorePatterns": ["node_modules/", ".next/", "out/", "build/"]
}
```

#### Prettieré…ç½®

```json
// .prettierrc
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "bracketSameLine": false,
  "arrowParens": "avoid",
  "endOfLine": "lf",
  "quoteProps": "as-needed",
  "jsxSingleQuote": true,
  "plugins": ["prettier-plugin-tailwindcss"]
}
```

#### TypeScriptç±»å‹å®šä¹‰è§„èŒƒ

```typescript
// types/api.ts - APIç±»å‹å®šä¹‰
export interface BaseResponse<T = unknown> {
  success: boolean;
  message: string;
  data?: T;
  errors?: Record<string, string[]>;
  timestamp: string;
}

export interface PaginatedResponse<T> extends BaseResponse<T[]> {
  pagination: {
    page: number;
    pageSize: number;
    total: number;
    totalPages: number;
  };
}

export interface ApiError {
  code: string;
  message: string;
  details?: Record<string, unknown>;
}

// types/models.ts - æ•°æ®æ¨¡å‹ç±»å‹
export interface User {
  readonly id: string;
  username: string;
  email: string;
  role: UserRole;
  profile: UserProfile;
  readonly createdAt: string;
  readonly updatedAt: string;
}

export interface Course {
  readonly id: string;
  name: string;
  code: string;
  description?: string;
  teacher: Pick<User, "id" | "username" | "email">;
  students: Pick<User, "id" | "username">[];
  status: CourseStatus;
  readonly createdAt: string;
  readonly updatedAt: string;
}

// æšä¸¾ç±»å‹
export enum UserRole {
  ADMIN = "admin",
  TEACHER = "teacher",
  STUDENT = "student",
}

export enum CourseStatus {
  DRAFT = "draft",
  ACTIVE = "active",
  COMPLETED = "completed",
  ARCHIVED = "archived",
}

// å·¥å…·ç±»å‹
export type CreateCourseRequest = Omit<
  Course,
  "id" | "createdAt" | "updatedAt" | "teacher" | "students"
>;
export type UpdateCourseRequest = Partial<CreateCourseRequest>;
export type CourseListItem = Pick<Course, "id" | "name" | "code" | "status"> & {
  teacherName: string;
  studentCount: number;
};
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥å®Œå–„

### 1. æµ‹è¯•é‡‘å­—å¡”å®æ–½

#### å•å…ƒæµ‹è¯• (70%)

```python
# tests/unit/test_course_service.py
import pytest
from unittest.mock import Mock, patch
from decimal import Decimal
from django.test import TestCase
from django.contrib.auth import get_user_model
from learning.services.course_service import CourseService
from learning.models import Course, Enrollment
from ai_services.exceptions import AIServiceException

User = get_user_model()

class TestCourseService(TestCase):
    """è¯¾ç¨‹æœåŠ¡å•å…ƒæµ‹è¯•"""

    def setUp(self):
        """æµ‹è¯•å‰ç½®è®¾ç½®"""
        self.service = CourseService()
        self.teacher = User.objects.create_user(
            username='teacher1',
            email='teacher@test.com',
            role='teacher'
        )
        self.student = User.objects.create_user(
            username='student1',
            email='student@test.com',
            role='student'
        )

    def test_create_course_success(self):
        """æµ‹è¯•æˆåŠŸåˆ›å»ºè¯¾ç¨‹"""
        course_data = {
            'name': 'è‹±è¯­å››çº§',
            'code': 'CET4-001',
            'description': 'è‹±è¯­å››çº§è€ƒè¯•åŸ¹è®­',
            'total_hours': 64
        }

        course = self.service.create_course(self.teacher.id, course_data)

        self.assertIsInstance(course, Course)
        self.assertEqual(course.name, 'è‹±è¯­å››çº§')
        self.assertEqual(course.teacher, self.teacher)
        self.assertEqual(course.total_hours, 64)

    def test_create_course_invalid_teacher(self):
        """æµ‹è¯•æ— æ•ˆæ•™å¸ˆIDåˆ›å»ºè¯¾ç¨‹"""
        course_data = {
            'name': 'è‹±è¯­å››çº§',
            'code': 'CET4-001'
        }

        with self.assertRaises(User.DoesNotExist):
            self.service.create_course(99999, course_data)

    def test_enroll_student_success(self):
        """æµ‹è¯•å­¦ç”Ÿé€‰è¯¾æˆåŠŸ"""
        course = Course.objects.create(
            name='è‹±è¯­å››çº§',
            code='CET4-001',
            teacher=self.teacher
        )

        enrollment = self.service.enroll_student(course.id, self.student.id)

        self.assertIsInstance(enrollment, Enrollment)
        self.assertEqual(enrollment.course, course)
        self.assertEqual(enrollment.student, self.student)
        self.assertEqual(enrollment.status, 'active')

    def test_enroll_student_already_enrolled(self):
        """æµ‹è¯•é‡å¤é€‰è¯¾"""
        course = Course.objects.create(
            name='è‹±è¯­å››çº§',
            code='CET4-001',
            teacher=self.teacher
        )

        # ç¬¬ä¸€æ¬¡é€‰è¯¾
        self.service.enroll_student(course.id, self.student.id)

        # ç¬¬äºŒæ¬¡é€‰è¯¾åº”è¯¥æŠ›å‡ºå¼‚å¸¸
        with self.assertRaises(ValueError) as context:
            self.service.enroll_student(course.id, self.student.id)

        self.assertIn('å·²ç»é€‰æ‹©äº†è¯¥è¯¾ç¨‹', str(context.exception))

    @patch('ai_services.services.DeepSeekAPIService.analyze_syllabus')
    def test_generate_syllabus_success(self, mock_analyze):
        """æµ‹è¯•ç”Ÿæˆæ•™å­¦å¤§çº²æˆåŠŸ"""
        mock_analyze.return_value = {
            'syllabus': 'è¯¦ç»†çš„æ•™å­¦å¤§çº²å†…å®¹',
            'chapters': ['å¬åŠ›', 'é˜…è¯»', 'å†™ä½œ', 'ç¿»è¯‘'],
            'total_hours': 64
        }

        course = Course.objects.create(
            name='è‹±è¯­å››çº§',
            code='CET4-001',
            teacher=self.teacher
        )

        result = self.service.generate_syllabus(
            course.id,
            {'exam_type': 'CET4', 'level': 'intermediate'}
        )

        self.assertIn('syllabus', result)
        self.assertIn('chapters', result)
        mock_analyze.assert_called_once()

    @patch('ai_services.services.DeepSeekAPIService.analyze_syllabus')
    def test_generate_syllabus_ai_service_error(self, mock_analyze):
        """æµ‹è¯•AIæœåŠ¡å¼‚å¸¸å¤„ç†"""
        mock_analyze.side_effect = AIServiceException('APIè°ƒç”¨å¤±è´¥')

        course = Course.objects.create(
            name='è‹±è¯­å››çº§',
            code='CET4-001',
            teacher=self.teacher
        )

        with self.assertRaises(AIServiceException):
            self.service.generate_syllabus(
                course.id,
                {'exam_type': 'CET4'}
            )
```

#### é›†æˆæµ‹è¯• (20%)

```python
# tests/integration/test_course_api.py
import json
from rest_framework.test import APITestCase
from rest_framework import status
from django.contrib.auth import get_user_model
from django.urls import reverse
from learning.models import Course

User = get_user_model()

class CourseAPIIntegrationTest(APITestCase):
    """è¯¾ç¨‹APIé›†æˆæµ‹è¯•"""

    def setUp(self):
        """æµ‹è¯•å‰ç½®è®¾ç½®"""
        self.teacher = User.objects.create_user(
            username='teacher1',
            email='teacher@test.com',
            role='teacher'
        )
        self.student = User.objects.create_user(
            username='student1',
            email='student@test.com',
            role='student'
        )

    def test_course_creation_workflow(self):
        """æµ‹è¯•è¯¾ç¨‹åˆ›å»ºå®Œæ•´æµç¨‹"""
        # 1. æ•™å¸ˆç™»å½•
        self.client.force_authenticate(user=self.teacher)

        # 2. åˆ›å»ºè¯¾ç¨‹
        course_data = {
            'name': 'è‹±è¯­å››çº§å¼ºåŒ–ç­',
            'code': 'CET4-INTENSIVE-001',
            'description': 'é’ˆå¯¹è‹±è¯­å››çº§è€ƒè¯•çš„å¼ºåŒ–åŸ¹è®­è¯¾ç¨‹',
            'total_hours': 80,
            'max_students': 30
        }

        response = self.client.post(
            reverse('api:courses-list'),
            data=json.dumps(course_data),
            content_type='application/json'
        )

        self.assertEqual(response.status_code, status.HTTP_201_CREATED)
        self.assertTrue(response.data['success'])

        course_id = response.data['data']['id']

        # 3. éªŒè¯è¯¾ç¨‹åˆ›å»º
        course = Course.objects.get(id=course_id)
        self.assertEqual(course.name, course_data['name'])
        self.assertEqual(course.teacher, self.teacher)

        # 4. å­¦ç”Ÿé€‰è¯¾
        self.client.force_authenticate(user=self.student)

        enroll_response = self.client.post(
            reverse('api:courses-enroll', kwargs={'pk': course_id})
        )

        self.assertEqual(enroll_response.status_code, status.HTTP_200_OK)

        # 5. éªŒè¯é€‰è¯¾ç»“æœ
        course.refresh_from_db()
        self.assertIn(self.student, course.students.all())

    def test_course_syllabus_generation_workflow(self):
        """æµ‹è¯•æ•™å­¦å¤§çº²ç”Ÿæˆæµç¨‹"""
        # åˆ›å»ºè¯¾ç¨‹
        course = Course.objects.create(
            name='è‹±è¯­å››çº§',
            code='CET4-001',
            teacher=self.teacher
        )

        self.client.force_authenticate(user=self.teacher)

        # ç”Ÿæˆæ•™å­¦å¤§çº²
        syllabus_data = {
            'exam_type': 'CET4',
            'level': 'intermediate',
            'focus_areas': ['listening', 'reading', 'writing', 'translation']
        }

        with patch('ai_services.services.DeepSeekAPIService.analyze_syllabus') as mock_ai:
            mock_ai.return_value = {
                'syllabus': 'è¯¦ç»†çš„æ•™å­¦å¤§çº²',
                'chapters': ['å¬åŠ›è®­ç»ƒ', 'é˜…è¯»ç†è§£', 'å†™ä½œæŠ€å·§', 'ç¿»è¯‘ç»ƒä¹ '],
                'total_hours': 64
            }

            response = self.client.post(
                reverse('api:courses-generate-syllabus', kwargs={'pk': course.id}),
                data=json.dumps(syllabus_data),
                content_type='application/json'
            )

            self.assertEqual(response.status_code, status.HTTP_200_OK)
            self.assertTrue(response.data['success'])
            self.assertIn('syllabus', response.data['data'])
```

#### ç«¯åˆ°ç«¯æµ‹è¯• (10%)

```typescript
// tests/e2e/course-management.spec.ts
import { test, expect } from "@playwright/test";

test.describe("è¯¾ç¨‹ç®¡ç†ç«¯åˆ°ç«¯æµ‹è¯•", () => {
  test.beforeEach(async ({ page }) => {
    // ç™»å½•æ•™å¸ˆè´¦æˆ·
    await page.goto("/login");
    await page.fill('[data-testid="username"]', "teacher1");
    await page.fill('[data-testid="password"]', "password123");
    await page.click('[data-testid="login-button"]');

    // ç­‰å¾…è·³è½¬åˆ°æ•™å¸ˆä»ªè¡¨æ¿
    await expect(page).toHaveURL("/teacher/dashboard");
  });

  test("åˆ›å»ºæ–°è¯¾ç¨‹å®Œæ•´æµç¨‹", async ({ page }) => {
    // 1. å¯¼èˆªåˆ°è¯¾ç¨‹åˆ›å»ºé¡µé¢
    await page.click('[data-testid="create-course-button"]');
    await expect(page).toHaveURL("/teacher/courses/create");

    // 2. å¡«å†™è¯¾ç¨‹ä¿¡æ¯
    await page.fill('[data-testid="course-name"]', "è‹±è¯­å››çº§å¼ºåŒ–ç­");
    await page.fill('[data-testid="course-code"]', "CET4-INTENSIVE-001");
    await page.fill(
      '[data-testid="course-description"]',
      "é’ˆå¯¹è‹±è¯­å››çº§è€ƒè¯•çš„å¼ºåŒ–åŸ¹è®­è¯¾ç¨‹",
    );
    await page.fill('[data-testid="total-hours"]', "80");
    await page.fill('[data-testid="max-students"]', "30");

    // 3. æäº¤è¡¨å•
    await page.click('[data-testid="submit-course"]');

    // 4. éªŒè¯æˆåŠŸæ¶ˆæ¯
    await expect(page.locator('[data-testid="success-message"]')).toBeVisible();
    await expect(page.locator('[data-testid="success-message"]')).toContainText(
      "è¯¾ç¨‹åˆ›å»ºæˆåŠŸ",
    );

    // 5. éªŒè¯è·³è½¬åˆ°è¯¾ç¨‹è¯¦æƒ…é¡µ
    await expect(page).toHaveURL(/\/teacher\/courses\/\d+/);

    // 6. éªŒè¯è¯¾ç¨‹ä¿¡æ¯æ˜¾ç¤ºæ­£ç¡®
    await expect(page.locator('[data-testid="course-title"]')).toContainText(
      "è‹±è¯­å››çº§å¼ºåŒ–ç­",
    );
    await expect(page.locator('[data-testid="course-code"]')).toContainText(
      "CET4-INTENSIVE-001",
    );
  });

  test("ç”Ÿæˆæ•™å­¦å¤§çº²æµç¨‹", async ({ page }) => {
    // å‡è®¾å·²æœ‰è¯¾ç¨‹ï¼Œå¯¼èˆªåˆ°è¯¾ç¨‹è¯¦æƒ…é¡µ
    await page.goto("/teacher/courses/1");

    // 1. ç‚¹å‡»ç”Ÿæˆå¤§çº²æŒ‰é’®
    await page.click('[data-testid="generate-syllabus-button"]');

    // 2. å¡«å†™å¤§çº²é…ç½®
    await page.selectOption('[data-testid="exam-type"]', "CET4");
    await page.selectOption('[data-testid="level"]', "intermediate");
    await page.check('[data-testid="focus-listening"]');
    await page.check('[data-testid="focus-reading"]');
    await page.check('[data-testid="focus-writing"]');

    // 3. å¼€å§‹ç”Ÿæˆ
    await page.click('[data-testid="start-generation"]');

    // 4. ç­‰å¾…ç”Ÿæˆå®Œæˆ
    await expect(
      page.locator('[data-testid="generation-progress"]'),
    ).toBeVisible();
    await expect(
      page.locator('[data-testid="generation-complete"]'),
    ).toBeVisible({ timeout: 30000 });

    // 5. éªŒè¯å¤§çº²å†…å®¹
    await expect(
      page.locator('[data-testid="syllabus-content"]'),
    ).toBeVisible();
    await expect(page.locator('[data-testid="chapter-list"]')).toContainText(
      "å¬åŠ›",
    );
    await expect(page.locator('[data-testid="chapter-list"]')).toContainText(
      "é˜…è¯»",
    );
  });

  test("å­¦ç”Ÿé€‰è¯¾æµç¨‹", async ({ page }) => {
    // åˆ‡æ¢åˆ°å­¦ç”Ÿè´¦æˆ·
    await page.goto("/logout");
    await page.goto("/login");
    await page.fill('[data-testid="username"]', "student1");
    await page.fill('[data-testid="password"]', "password123");
    await page.click('[data-testid="login-button"]');

    // å¯¼èˆªåˆ°è¯¾ç¨‹åˆ—è¡¨
    await page.goto("/student/courses");

    // 1. æœç´¢è¯¾ç¨‹
    await page.fill('[data-testid="course-search"]', "è‹±è¯­å››çº§");
    await page.click('[data-testid="search-button"]');

    // 2. é€‰æ‹©è¯¾ç¨‹
    await page.click('[data-testid="course-card"]:first-child');

    // 3. æŸ¥çœ‹è¯¾ç¨‹è¯¦æƒ…
    await expect(page.locator('[data-testid="course-details"]')).toBeVisible();

    // 4. é€‰è¯¾
    await page.click('[data-testid="enroll-button"]');

    // 5. ç¡®è®¤é€‰è¯¾
    await page.click('[data-testid="confirm-enrollment"]');

    // 6. éªŒè¯é€‰è¯¾æˆåŠŸ
    await expect(
      page.locator('[data-testid="enrollment-success"]'),
    ).toBeVisible();
    await expect(page.locator('[data-testid="my-courses-link"]')).toBeVisible();
  });
});
```

### 2. æµ‹è¯•è¦†ç›–ç‡ç›‘æ§

#### Coverageé…ç½®

```ini
# .coveragerc
[run]
source = .
omit =
    */venv/*
    */migrations/*
    */settings/*
    */tests/*
    manage.py
    */wsgi.py
    */asgi.py
    */conftest.py
    */__pycache__/*
    */node_modules/*

[report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
    class .*\(Protocol\):
    @(abc\.)?abstractmethod

[html]
directory = htmlcov

[xml]
output = coverage.xml
```

---

## ğŸ” é™æ€ä»£ç åˆ†æ

### 1. SonarQubeé›†æˆ

#### é…ç½®æ–‡ä»¶

```properties
# sonar-project.properties
sonar.projectKey=english-cet4-training-system
sonar.projectName=English CET4 Training System
sonar.projectVersion=1.0

# æºç è·¯å¾„
sonar.sources=backend,frontend/src
sonar.tests=backend/tests,frontend/src/__tests__

# æ’é™¤æ–‡ä»¶
sonar.exclusions=**/migrations/**,**/node_modules/**,**/*.min.js,**/dist/**
sonar.test.exclusions=**/node_modules/**,**/coverage/**

# Pythoné…ç½®
sonar.python.coverage.reportPaths=coverage.xml
sonar.python.xunit.reportPath=test-results.xml

# JavaScript/TypeScripté…ç½®
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info

# è´¨é‡é—¨ç¦
sonar.qualitygate.wait=true

# ä»£ç é‡å¤ç‡é˜ˆå€¼
sonar.cpd.exclusions=**/migrations/**,**/tests/**
```

### 2. ä»£ç è´¨é‡æŒ‡æ ‡

#### è´¨é‡é—¨ç¦æ ‡å‡†

```yaml
# .github/workflows/quality-gate.yml
name: Quality Gate

on:
  pull_request:
    branches: [main, develop]
  push:
    branches: [main, develop]

jobs:
  quality-check:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.12"

      - name: Install dependencies
        run: |
          pip install -r requirements/development.txt

      - name: Run tests with coverage
        run: |
          coverage run --source='.' manage.py test
          coverage xml

      - name: Run linting
        run: |
          flake8 .
          black --check .
          isort --check-only .

      - name: Run security check
        run: |
          bandit -r . -f json -o bandit-report.json

      - name: SonarQube Scan
        uses: sonarqube-quality-gate-action@master
        env:
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

      - name: Quality Gate Check
        run: |
          # æ£€æŸ¥è¦†ç›–ç‡
          coverage report --fail-under=85

          # æ£€æŸ¥å¤æ‚åº¦
          radon cc . --min B

          # æ£€æŸ¥ç»´æŠ¤æ€§æŒ‡æ•°
          radon mi . --min B
```

---

## ğŸ“ ä»£ç å®¡æŸ¥æµç¨‹

### 1. Pull Requestæ¨¡æ¿

```markdown
<!-- .github/pull_request_template.md -->

## ğŸ“‹ å˜æ›´æè¿°

### å˜æ›´ç±»å‹

- [ ] ğŸ› Bugä¿®å¤
- [ ] âœ¨ æ–°åŠŸèƒ½
- [ ] ğŸ’„ UI/æ ·å¼æ›´æ–°
- [ ] â™»ï¸ ä»£ç é‡æ„
- [ ] ğŸ“ æ–‡æ¡£æ›´æ–°
- [ ] ğŸ”§ é…ç½®å˜æ›´
- [ ] âš¡ æ€§èƒ½ä¼˜åŒ–
- [ ] ğŸ§ª æµ‹è¯•ç›¸å…³

### å˜æ›´å†…å®¹

<!-- è¯¦ç»†æè¿°æœ¬æ¬¡å˜æ›´çš„å†…å®¹ -->

### ç›¸å…³Issue

<!-- å…³è”çš„Issueç¼–å·ï¼Œå¦‚ï¼šCloses #123 -->

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•ç”¨ä¾‹

- [ ] å•å…ƒæµ‹è¯•å·²æ·»åŠ /æ›´æ–°
- [ ] é›†æˆæµ‹è¯•å·²æ·»åŠ /æ›´æ–°
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•å·²æ·»åŠ /æ›´æ–°
- [ ] æ‰‹åŠ¨æµ‹è¯•å·²å®Œæˆ

### æµ‹è¯•è¦†ç›–ç‡

- [ ] æ–°å¢ä»£ç æµ‹è¯•è¦†ç›–ç‡ > 90%
- [ ] æ•´ä½“æµ‹è¯•è¦†ç›–ç‡æœªä¸‹é™

## ğŸ“Š è´¨é‡æ£€æŸ¥

### ä»£ç è´¨é‡

- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] é€šè¿‡æ‰€æœ‰é™æ€åˆ†ææ£€æŸ¥
- [ ] æ— å®‰å…¨æ¼æ´
- [ ] æ€§èƒ½å½±å“å·²è¯„ä¼°

### æ–‡æ¡£

- [ ] APIæ–‡æ¡£å·²æ›´æ–°
- [ ] ä»£ç æ³¨é‡Šå……åˆ†
- [ ] READMEå·²æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ” å®¡æŸ¥è¦ç‚¹

### åŠŸèƒ½æ€§

- [ ] åŠŸèƒ½å®ç°æ­£ç¡®
- [ ] è¾¹ç•Œæ¡ä»¶å¤„ç†
- [ ] é”™è¯¯å¤„ç†å®Œå–„

### éåŠŸèƒ½æ€§

- [ ] æ€§èƒ½å½±å“
- [ ] å®‰å…¨æ€§è€ƒè™‘
- [ ] å¯ç»´æŠ¤æ€§
- [ ] å¯æ‰©å±•æ€§

## ğŸ“¸ æˆªå›¾/æ¼”ç¤º

<!-- å¦‚æœæ˜¯UIå˜æ›´ï¼Œè¯·æä¾›æˆªå›¾æˆ–GIFæ¼”ç¤º -->

## ğŸš€ éƒ¨ç½²è¯´æ˜

<!-- å¦‚æœéœ€è¦ç‰¹æ®Šçš„éƒ¨ç½²æ­¥éª¤ï¼Œè¯·åœ¨æ­¤è¯´æ˜ -->

## âœ… å®¡æŸ¥æ¸…å•

### æäº¤è€…ç¡®è®¤

- [ ] ä»£ç å·²è‡ªæµ‹
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å·²æ ¼å¼åŒ–
- [ ] æäº¤ä¿¡æ¯è§„èŒƒ

### å®¡æŸ¥è€…ç¡®è®¤

- [ ] ä»£ç é€»è¾‘æ­£ç¡®
- [ ] æµ‹è¯•å……åˆ†
- [ ] æ–‡æ¡£å®Œæ•´
- [ ] ç¬¦åˆé¡¹ç›®æ ‡å‡†
```

### 2. ä»£ç å®¡æŸ¥æŒ‡å—

#### å®¡æŸ¥é‡ç‚¹

```markdown
# ä»£ç å®¡æŸ¥æŒ‡å—

## ğŸ¯ å®¡æŸ¥ç›®æ ‡

1. **åŠŸèƒ½æ­£ç¡®æ€§**: ä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
2. **ä»£ç è´¨é‡**: ä»£ç æ˜¯å¦æ¸…æ™°ã€å¯ç»´æŠ¤
3. **æ€§èƒ½å½±å“**: æ˜¯å¦å­˜åœ¨æ€§èƒ½é—®é¢˜
4. **å®‰å…¨æ€§**: æ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´
5. **æµ‹è¯•è¦†ç›–**: æµ‹è¯•æ˜¯å¦å……åˆ†

## ğŸ“‹ å®¡æŸ¥æ¸…å•

### ä»£ç ç»“æ„

- [ ] å‡½æ•°/ç±»èŒè´£å•ä¸€
- [ ] å‘½åæ¸…æ™°æœ‰æ„ä¹‰
- [ ] ä»£ç ç»„ç»‡åˆç†
- [ ] é¿å…é‡å¤ä»£ç 

### é€»è¾‘æ­£ç¡®æ€§

- [ ] ä¸šåŠ¡é€»è¾‘æ­£ç¡®
- [ ] è¾¹ç•Œæ¡ä»¶å¤„ç†
- [ ] å¼‚å¸¸å¤„ç†å®Œå–„
- [ ] æ•°æ®éªŒè¯å……åˆ†

### æ€§èƒ½è€ƒè™‘

- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] ç¼“å­˜ç­–ç•¥åˆç†
- [ ] ç®—æ³•å¤æ‚åº¦å¯æ¥å—
- [ ] èµ„æºä½¿ç”¨åˆç†

### å®‰å…¨æ€§

- [ ] è¾“å…¥éªŒè¯å’Œæ¸…ç†
- [ ] æƒé™æ£€æŸ¥
- [ ] æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
- [ ] SQLæ³¨å…¥é˜²æŠ¤

### æµ‹è¯•è´¨é‡

- [ ] æµ‹è¯•ç”¨ä¾‹å……åˆ†
- [ ] æµ‹è¯•è¦†ç›–å…³é”®è·¯å¾„
- [ ] æ¨¡æ‹Ÿå’Œå­˜æ ¹åˆç†
- [ ] æµ‹è¯•æ•°æ®æœ‰æ•ˆ

## ğŸ’¬ å®¡æŸ¥åé¦ˆ

### åé¦ˆåˆ†ç±»

- **ğŸ”´ å¿…é¡»ä¿®å¤**: é˜»å¡æ€§é—®é¢˜ï¼Œå¿…é¡»è§£å†³
- **ğŸŸ¡ å»ºè®®ä¿®æ”¹**: æ”¹è¿›å»ºè®®ï¼Œå¯é€‰æ‹©æ€§é‡‡çº³
- **ğŸŸ¢ èµæ‰¬**: å¥½çš„å®è·µï¼Œå€¼å¾—å­¦ä¹ 
- **â“ ç–‘é—®**: éœ€è¦æ¾„æ¸…çš„é—®é¢˜

### åé¦ˆç¤ºä¾‹
```

ğŸ”´ å¿…é¡»ä¿®å¤: ç¬¬45è¡Œå­˜åœ¨SQLæ³¨å…¥é£é™©ï¼Œè¯·ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
ğŸŸ¡ å»ºè®®ä¿®æ”¹: å»ºè®®å°†è¿™ä¸ªé•¿å‡½æ•°æ‹†åˆ†ä¸ºå¤šä¸ªå°å‡½æ•°ï¼Œæé«˜å¯è¯»æ€§
ğŸŸ¢ èµæ‰¬: é”™è¯¯å¤„ç†å¾ˆå®Œå–„ï¼Œè€ƒè™‘äº†å„ç§å¼‚å¸¸æƒ…å†µ
â“ ç–‘é—®: è¿™é‡Œä¸ºä»€ä¹ˆé€‰æ‹©ä½¿ç”¨é€’å½’è€Œä¸æ˜¯è¿­ä»£ï¼Ÿ

```

```

---

## ğŸ“ˆ è´¨é‡åº¦é‡å’Œç›‘æ§

### 1. è´¨é‡æŒ‡æ ‡ä»ªè¡¨æ¿

```python
# monitoring/quality_metrics.py
from dataclasses import dataclass
from typing import Dict, List
from datetime import datetime, timedelta
from django.db.models import Count, Avg
from django.core.cache import cache

@dataclass
class QualityMetrics:
    """ä»£ç è´¨é‡æŒ‡æ ‡"""
    test_coverage: float
    code_duplication: float
    cyclomatic_complexity: float
    technical_debt_ratio: float
    bug_density: float
    code_review_coverage: float

class QualityMetricsCollector:
    """è´¨é‡æŒ‡æ ‡æ”¶é›†å™¨"""

    def collect_current_metrics(self) -> QualityMetrics:
        """æ”¶é›†å½“å‰è´¨é‡æŒ‡æ ‡"""
        return QualityMetrics(
            test_coverage=self._get_test_coverage(),
            code_duplication=self._get_code_duplication(),
            cyclomatic_complexity=self._get_avg_complexity(),
            technical_debt_ratio=self._get_technical_debt_ratio(),
            bug_density=self._get_bug_density(),
            code_review_coverage=self._get_review_coverage()
        )

    def _get_test_coverage(self) -> float:
        """è·å–æµ‹è¯•è¦†ç›–ç‡"""
        # ä»coverageæŠ¥å‘Šè·å–
        return cache.get('test_coverage', 0.0)

    def _get_code_duplication(self) -> float:
        """è·å–ä»£ç é‡å¤ç‡"""
        # ä»SonarQube APIè·å–
        return cache.get('code_duplication', 0.0)

    def _get_avg_complexity(self) -> float:
        """è·å–å¹³å‡åœˆå¤æ‚åº¦"""
        # ä»é™æ€åˆ†æå·¥å…·è·å–
        return cache.get('avg_complexity', 0.0)

    def _get_technical_debt_ratio(self) -> float:
        """è·å–æŠ€æœ¯å€ºåŠ¡æ¯”ç‡"""
        # ä»SonarQubeè·å–
        return cache.get('technical_debt_ratio', 0.0)

    def _get_bug_density(self) -> float:
        """è·å–ç¼ºé™·å¯†åº¦"""
        # ä»ç¼ºé™·è·Ÿè¸ªç³»ç»Ÿè·å–
        return cache.get('bug_density', 0.0)

    def _get_review_coverage(self) -> float:
        """è·å–ä»£ç å®¡æŸ¥è¦†ç›–ç‡"""
        # ä»Gitç»Ÿè®¡è·å–
        return cache.get('review_coverage', 0.0)
```

### 2. è´¨é‡è¶‹åŠ¿åˆ†æ

```python
# monitoring/quality_trends.py
import matplotlib.pyplot as plt
import pandas as pd
from typing import List, Dict
from datetime import datetime, timedelta

class QualityTrendAnalyzer:
    """è´¨é‡è¶‹åŠ¿åˆ†æå™¨"""

    def __init__(self):
        self.metrics_history: List[Dict] = []

    def analyze_trends(self, days: int = 30) -> Dict[str, any]:
        """åˆ†æè´¨é‡è¶‹åŠ¿"""
        cutoff_date = datetime.now() - timedelta(days=days)

        # è¿‡æ»¤æœ€è¿‘æ•°æ®
        recent_data = [
            metric for metric in self.metrics_history
            if metric['timestamp'] >= cutoff_date
        ]

        if not recent_data:
            return {}

        df = pd.DataFrame(recent_data)

        return {
            'test_coverage_trend': self._calculate_trend(df, 'test_coverage'),
            'complexity_trend': self._calculate_trend(df, 'cyclomatic_complexity'),
            'debt_trend': self._calculate_trend(df, 'technical_debt_ratio'),
            'quality_score': self._calculate_quality_score(df),
            'recommendations': self._generate_recommendations(df)
        }

    def _calculate_trend(self, df: pd.DataFrame, metric: str) -> Dict[str, float]:
        """è®¡ç®—æŒ‡æ ‡è¶‹åŠ¿"""
        if len(df) < 2:
            return {'direction': 0, 'change_rate': 0}

        # çº¿æ€§å›å½’è®¡ç®—è¶‹åŠ¿
        x = range(len(df))
        y = df[metric].values

        # ç®€å•çº¿æ€§å›å½’
        n = len(x)
        sum_x = sum(x)
        sum_y = sum(y)
        sum_xy = sum(x[i] * y[i] for i in range(n))
        sum_x2 = sum(x[i] ** 2 for i in range(n))

        slope = (n * sum_xy - sum_x * sum_y) / (n * sum_x2 - sum_x ** 2)

        return {
            'direction': 1 if slope > 0 else -1 if slope < 0 else 0,
            'change_rate': abs(slope),
            'current_value': y[-1],
            'previous_value': y[0]
        }

    def _calculate_quality_score(self, df: pd.DataFrame) -> float:
        """è®¡ç®—ç»¼åˆè´¨é‡åˆ†æ•°"""
        latest = df.iloc[-1]

        # æƒé‡é…ç½®
        weights = {
            'test_coverage': 0.3,
            'code_duplication': -0.2,  # è´Ÿæƒé‡
            'cyclomatic_complexity': -0.2,  # è´Ÿæƒé‡
            'technical_debt_ratio': -0.2,  # è´Ÿæƒé‡
            'bug_density': -0.1  # è´Ÿæƒé‡
        }

        score = 0
        for metric, weight in weights.items():
            if metric in latest:
                normalized_value = min(latest[metric] / 100, 1.0)  # å½’ä¸€åŒ–åˆ°0-1
                score += weight * normalized_value

        # è½¬æ¢åˆ°0-100åˆ†
        return max(0, min(100, (score + 1) * 50))

    def _generate_recommendations(self, df: pd.DataFrame) -> List[str]:
        """ç”Ÿæˆæ”¹è¿›å»ºè®®"""
        recommendations = []
        latest = df.iloc[-1]

        if latest.get('test_coverage', 0) < 80:
            recommendations.append('æµ‹è¯•è¦†ç›–ç‡åä½ï¼Œå»ºè®®å¢åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•')

        if latest.get('code_duplication', 0) > 10:
            recommendations.append('ä»£ç é‡å¤ç‡è¾ƒé«˜ï¼Œå»ºè®®è¿›è¡Œé‡æ„ä»¥å‡å°‘é‡å¤ä»£ç ')

        if latest.get('cyclomatic_complexity', 0) > 10:
            recommendations.append('ä»£ç å¤æ‚åº¦è¾ƒé«˜ï¼Œå»ºè®®æ‹†åˆ†å¤æ‚å‡½æ•°å’Œç±»')

        if latest.get('technical_debt_ratio', 0) > 20:
            recommendations.append('æŠ€æœ¯å€ºåŠ¡è¾ƒå¤šï¼Œå»ºè®®å®‰æ’ä¸“é—¨æ—¶é—´è¿›è¡Œä»£ç æ¸…ç†')

        return recommendations
```

---

## ğŸ¯ å®æ–½è®¡åˆ’å’ŒéªŒæ”¶æ ‡å‡†

### å®æ–½æ—¶é—´è¡¨

| é˜¶æ®µ        | ä»»åŠ¡           | æ—¶é—´ | è´Ÿè´£äºº     | éªŒæ”¶æ ‡å‡†                    |
| ----------- | -------------- | ---- | ---------- | --------------------------- |
| **ç¬¬1-2å‘¨** | ä»£ç è§„èŒƒæ ‡å‡†åŒ– | 10å¤© | æŠ€æœ¯è´Ÿè´£äºº | è§„èŒƒæ–‡æ¡£å®Œæˆï¼Œå·¥å…·é…ç½®å®Œæˆ  |
| **ç¬¬3-4å‘¨** | æµ‹è¯•æ¡†æ¶æ­å»º   | 10å¤© | æµ‹è¯•å›¢é˜Ÿ   | æµ‹è¯•æ¡†æ¶å¯ç”¨ï¼Œç¤ºä¾‹æµ‹è¯•å®Œæˆ  |
| **ç¬¬5-6å‘¨** | é™æ€åˆ†æé›†æˆ   | 10å¤© | DevOpså›¢é˜Ÿ | SonarQubeé›†æˆï¼Œè´¨é‡é—¨ç¦ç”Ÿæ•ˆ |
| **ç¬¬7-8å‘¨** | ä»£ç å®¡æŸ¥æµç¨‹   | 10å¤© | é¡¹ç›®ç»ç†   | å®¡æŸ¥æµç¨‹æ–‡æ¡£ï¼Œæ¨¡æ¿é…ç½®å®Œæˆ  |

### éªŒæ”¶æ ‡å‡†

#### ä»£ç è´¨é‡æŒ‡æ ‡

- [ ] æµ‹è¯•è¦†ç›–ç‡ > 90%
- [ ] ä»£ç é‡å¤ç‡ < 5%
- [ ] å¹³å‡åœˆå¤æ‚åº¦ < 8
- [ ] æŠ€æœ¯å€ºåŠ¡æ¯”ç‡ < 10%
- [ ] ä»£ç å®¡æŸ¥è¦†ç›–ç‡ = 100%

#### æµç¨‹æŒ‡æ ‡

- [ ] æ‰€æœ‰PRå¿…é¡»é€šè¿‡ä»£ç å®¡æŸ¥
- [ ] æ‰€æœ‰ä»£ç å¿…é¡»é€šè¿‡é™æ€åˆ†æ
- [ ] è´¨é‡é—¨ç¦é˜»å¡ä½è´¨é‡ä»£ç 
- [ ] è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–CI/CDæµç¨‹

#### å›¢é˜ŸæŒ‡æ ‡

- [ ] å¼€å‘äººå‘˜ä»£ç è§„èŒƒåŸ¹è®­å®Œæˆç‡ 100%
- [ ] ä»£ç å®¡æŸ¥å‚ä¸åº¦ > 80%
- [ ] è´¨é‡é—®é¢˜å‘ç°å’Œä¿®å¤å‘¨æœŸ < 2å¤©

---

## ğŸ“š åŸ¹è®­å’ŒçŸ¥è¯†ä¼ é€’

### 1. ä»£ç è´¨é‡åŸ¹è®­è®¡åˆ’

```markdown
# ä»£ç è´¨é‡åŸ¹è®­å¤§çº²

## ç¬¬ä¸€æ¨¡å—ï¼šä»£ç è§„èŒƒå’Œæœ€ä½³å®è·µ (4å°æ—¶)

- Python/Djangoç¼–ç è§„èŒƒ
- TypeScript/Reactæœ€ä½³å®è·µ
- ä»£ç å®¡æŸ¥æŠ€å·§
- é‡æ„æ–¹æ³•å’ŒæŠ€å·§

## ç¬¬äºŒæ¨¡å—ï¼šæµ‹è¯•é©±åŠ¨å¼€å‘ (6å°æ—¶)

- TDDç†è®ºå’Œå®è·µ
- å•å…ƒæµ‹è¯•ç¼–å†™æŠ€å·§
- é›†æˆæµ‹è¯•ç­–ç•¥
- æµ‹è¯•è¦†ç›–ç‡åˆ†æ

## ç¬¬ä¸‰æ¨¡å—ï¼šé™æ€ä»£ç åˆ†æ (2å°æ—¶)

- SonarQubeä½¿ç”¨æŒ‡å—
- ä»£ç è´¨é‡æŒ‡æ ‡è§£è¯»
- æŠ€æœ¯å€ºåŠ¡ç®¡ç†
- è´¨é‡é—¨ç¦é…ç½®

## ç¬¬å››æ¨¡å—ï¼šä»£ç å®¡æŸ¥æµç¨‹ (2å°æ—¶)

- ä»£ç å®¡æŸ¥æœ€ä½³å®è·µ
- PRæ¨¡æ¿ä½¿ç”¨
- å®¡æŸ¥åé¦ˆæŠ€å·§
- å†²çªè§£å†³æ–¹æ³•
```

### 2. çŸ¥è¯†åº“å»ºè®¾

```markdown
# ä»£ç è´¨é‡çŸ¥è¯†åº“ç»“æ„

## ğŸ“– è§„èŒƒæ–‡æ¡£

- ç¼–ç è§„èŒƒæŒ‡å—
- APIè®¾è®¡è§„èŒƒ
- æ•°æ®åº“è®¾è®¡è§„èŒƒ
- å‰ç«¯ç»„ä»¶è§„èŒƒ

## ğŸ§ª æµ‹è¯•æŒ‡å—

- æµ‹è¯•ç­–ç•¥æ–‡æ¡£
- æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿
- Mockå’ŒStubæŒ‡å—
- æ€§èƒ½æµ‹è¯•æŒ‡å—

## ğŸ” è´¨é‡å·¥å…·

- é™æ€åˆ†æå·¥å…·é…ç½®
- ä»£ç è¦†ç›–ç‡å·¥å…·
- æ€§èƒ½åˆ†æå·¥å…·
- å®‰å…¨æ‰«æå·¥å…·

## ğŸ“‹ æ£€æŸ¥æ¸…å•

- ä»£ç å®¡æŸ¥æ¸…å•
- å‘å¸ƒå‰æ£€æŸ¥æ¸…å•
- å®‰å…¨æ£€æŸ¥æ¸…å•
- æ€§èƒ½æ£€æŸ¥æ¸…å•
```

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬è®¡åˆ’å°†æ ¹æ®å®æ–½è¿›å±•å’Œå›¢é˜Ÿåé¦ˆæŒç»­æ›´æ–°å®Œå–„ã€‚
