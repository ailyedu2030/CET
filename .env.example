# 英语四级学习系统 - 环境变量配置示例
# 复制此文件为 .env 并填入实际值

# ===========================================
# 基础应用配置
# ===========================================

# 应用环境 (development|staging|production)
ENVIRONMENT=development

# 调试模式 (true|false)
DEBUG=true

# 应用密钥 (生产环境必须使用强密钥)
SECRET_KEY=your-secret-key-change-in-production

# 允许的主机名 (逗号分隔)
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# CORS允许的源 (逗号分隔)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# ===========================================
# 数据库配置
# ===========================================

# PostgreSQL数据库连接
DATABASE_URL=postgresql://cet4_user:cet4_password@localhost:5432/cet4_learning

# 数据库连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# ===========================================
# Redis缓存配置
# ===========================================

# Redis连接URL
REDIS_URL=redis://localhost:6379/0

# Redis密码 (如果设置了密码)
REDIS_PASSWORD=your-redis-password

# Redis连接池配置
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# ===========================================
# Milvus向量数据库配置
# ===========================================

# Milvus服务地址
MILVUS_HOST=localhost
MILVUS_PORT=19530

# Milvus连接配置
MILVUS_USER=
MILVUS_PASSWORD=
MILVUS_SECURE=false

# ===========================================
# MinIO对象存储配置
# ===========================================

# MinIO服务端点
MINIO_ENDPOINT=localhost:9000

# MinIO访问凭证
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# MinIO存储桶配置
MINIO_BUCKET_NAME=cet4-learning
MINIO_SECURE=false

# ===========================================
# AI服务配置
# ===========================================

# DeepSeek API密钥 (逗号分隔多个密钥)
DEEPSEEK_API_KEYS=sk-your-api-key-1,sk-your-api-key-2,sk-your-api-key-3

# DeepSeek API配置
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_MAX_TOKENS=4000
DEEPSEEK_TEMPERATURE=0.7

# AI服务限流配置
AI_RATE_LIMIT_PER_MINUTE=60
AI_RATE_LIMIT_PER_HOUR=1000
AI_RATE_LIMIT_PER_DAY=10000

# ===========================================
# 日志配置
# ===========================================

# 日志级别 (DEBUG|INFO|WARNING|ERROR|CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=logs/app.log

# 日志轮转配置
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# 结构化日志 (true|false)
LOG_JSON_FORMAT=false

# ===========================================
# 安全配置
# ===========================================

# JWT配置
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# 密码加密配置
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_HASH_ROUNDS=12

# API限流配置
API_RATE_LIMIT_PER_MINUTE=100
API_RATE_LIMIT_PER_HOUR=1000

# ===========================================
# 邮件服务配置
# ===========================================

# SMTP服务器配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_TLS=true

# 邮件发送配置
EMAIL_FROM=noreply@cet4-learning.com
EMAIL_FROM_NAME=CET4学习系统

# ===========================================
# 文件上传配置
# ===========================================

# 上传文件大小限制 (字节)
MAX_UPLOAD_SIZE=10485760  # 10MB

# 允许的文件类型
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt,mp3,mp4

# 上传目录
UPLOAD_DIR=uploads

# ===========================================
# 缓存配置
# ===========================================

# 缓存TTL配置 (秒)
CACHE_TTL_SHORT=300      # 5分钟
CACHE_TTL_MEDIUM=1800    # 30分钟
CACHE_TTL_LONG=3600      # 1小时
CACHE_TTL_VERY_LONG=86400 # 24小时

# ===========================================
# 任务队列配置
# ===========================================

# Celery配置
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Celery任务配置
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# ===========================================
# 监控配置
# ===========================================

# Prometheus监控
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001

# Grafana配置
GRAFANA_ADMIN_PASSWORD=admin123

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=30

# ===========================================
# 第三方服务配置
# ===========================================

# 百度翻译API
BAIDU_TRANSLATE_APP_ID=your-baidu-app-id
BAIDU_TRANSLATE_SECRET_KEY=your-baidu-secret-key

# 有道词典API
YOUDAO_APP_KEY=your-youdao-app-key
YOUDAO_APP_SECRET=your-youdao-app-secret

# ===========================================
# 开发环境配置
# ===========================================

# 开发服务器配置
DEV_HOST=0.0.0.0
DEV_PORT=8000
DEV_RELOAD=true

# 测试数据库配置
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/test_db

# ===========================================
# 生产环境配置
# ===========================================

# 生产环境特定配置
PROD_WORKERS=4
PROD_MAX_REQUESTS=1000
PROD_MAX_REQUESTS_JITTER=100

# SSL配置
SSL_ENABLED=false
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# ===========================================
# Docker配置
# ===========================================

# Docker镜像标签
IMAGE_TAG=latest

# Docker网络配置
DOCKER_NETWORK=cet4_learning_network

# ===========================================
# CI/CD配置
# ===========================================

# GitHub Actions配置
GITHUB_TOKEN=your-github-token

# 部署配置
DEPLOYMENT_ENV=staging
DEPLOYMENT_TIMEOUT=300

# Slack通知配置
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url

# ===========================================
# 特性开关
# ===========================================

# 功能开关
FEATURE_AI_TUTOR=true
FEATURE_SOCIAL_LEARNING=true
FEATURE_GAMIFICATION=true
FEATURE_ANALYTICS=true
FEATURE_REAL_TIME_CHAT=true

# 实验性功能
EXPERIMENTAL_FEATURES=false

# ===========================================
# 性能配置
# ===========================================

# 并发配置
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30

# 缓存配置
ENABLE_QUERY_CACHE=true
ENABLE_RESPONSE_CACHE=true

# 压缩配置
ENABLE_GZIP=true
GZIP_LEVEL=6
